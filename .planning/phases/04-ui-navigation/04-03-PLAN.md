---
phase: 04-ui-navigation
plan: 03
type: execute
wave: 3
depends_on: ["04-02"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "App displays three-pane layout (agent output | diff summary | terminal)"
    - "User can navigate between panes with Tab key"
    - "User can view keyboard shortcuts with ? key"
    - "Focus indicator matches actual input routing (no stuck focus)"
    - "UI remains responsive when agent outputs thousands of lines"
  artifacts: []
  key_links: []
---

<objective>
Verify the complete three-pane UI with keyboard navigation works correctly.

Purpose: Human verification of UI-01, UI-02, UI-03 requirements and focus indicator correctness (UI-04 pitfall prevention).

Output: Verified working three-pane interface ready for Phase 5 integration.
</objective>

<execution_context>
@/Users/nazim.saouli/.claude/get-shit-done/workflows/execute-plan.md
@/Users/nazim.saouli/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-ui-navigation/04-01-SUMMARY.md
@.planning/phases/04-ui-navigation/04-02-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify Three-Pane Layout and Navigation</name>
  <what-built>
Complete three-pane UI with:
- Agent output pane (left, 40%) - Full agent controls
- Diff summary pane (center, 40%) - Placeholder
- Terminal pane (right, 20%) - Placeholder
- Tab navigation between panes
- ? key opens help screen
- Focus indicators (double cyan border = focused)
  </what-built>
  <how-to-verify>
**Setup:**
1. Navigate to a git repository: `cd /path/to/your/repo`
2. Start equipe: `npm start`
3. If no workspaces exist, create one: press `n`, enter a branch name
4. Return to main, press `a` to enter workspace view

**Test 1: Three-Pane Layout (UI-01)**
- [ ] Three panes visible horizontally
- [ ] Left pane shows "Agent" title and agent controls
- [ ] Center pane shows "Diff Summary" placeholder
- [ ] Right pane shows "Terminal" placeholder
- [ ] Panes have visible borders

**Test 2: Tab Navigation (UI-02)**
- [ ] Press Tab - focus moves to next pane (border changes to double cyan)
- [ ] Press Tab again - focus moves to third pane
- [ ] Press Tab again - focus returns to first pane (cycles)
- [ ] Press Shift+Tab - focus moves backwards
- [ ] Only the focused pane shows double cyan border

**Test 3: Help Screen (UI-03)**
- [ ] Press ? - help screen overlay appears
- [ ] Help screen shows all keyboard shortcuts (Navigation, Agent Control, Global)
- [ ] Press ? again - help screen closes
- [ ] Press Esc - help screen closes
- [ ] When help is open, Tab does NOT change pane focus
- [ ] When help is open, pane-specific shortcuts (s, x, r) do NOT work

**Test 4: Focus Matches Input Routing (UI-04)**
- [ ] When Agent pane is focused:
  - If agent not running: press `s` - agent starts
  - If agent running: press `x` - agent stops
  - If agent running: press Enter - attaches to tmux session
- [ ] When Diff pane is focused: pressing `s` does NOTHING (not focused on agent)
- [ ] When Terminal pane is focused: pressing `s` does NOTHING (not focused on agent)
- [ ] After attaching/detaching from agent (Ctrl+B D), focus indicator is correct

**Test 5: Responsiveness (UI-05)**
- [ ] If agent is running, output preview updates smoothly
- [ ] Tab navigation remains responsive during agent output
- [ ] Help screen opens/closes instantly

**Test 6: Exit Navigation**
- [ ] Press `q` or Esc - returns to main screen
- [ ] Press `q` on main screen - exits app

**Report any issues found:**
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
Human verification of all UI requirements.
</verification>

<success_criteria>
All test cases pass:
- UI-01: Three-pane layout displays correctly
- UI-02: Tab navigation cycles through panes
- UI-03: ? key shows/hides help screen
- UI-04: Focus indicator matches actual input routing
- UI-05: UI remains responsive
</success_criteria>

<output>
After completion, create `.planning/phases/04-ui-navigation/04-03-SUMMARY.md`
</output>
